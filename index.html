<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapport de Comparaison des Prompts - Revue Syst√©matique de Litt√©rature</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .download-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .content {
            padding: 40px;
        }

        h2 {
            color: #667eea;
            margin: 30px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            font-size: 1.8em;
        }

        h3 {
            color: #764ba2;
            margin: 20px 0 15px 0;
            font-size: 1.4em;
        }

        h4 {
            color: #555;
            margin: 15px 0 10px 0;
            font-size: 1.2em;
        }

        .intro {
            background: #f8f9ff;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .alert {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background: #f8f9ff;
        }

        tr:hover {
            background: #e8ebff;
        }

        .metric-highlight {
            font-weight: bold;
            color: #667eea;
        }

        .review-section {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .prompt-box {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .prompt-code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.5;
            margin: 15px 0;
        }

        .conclusion {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
            border: 2px solid #667eea;
        }

        .footer {
            background: #f5f5f5;
            padding: 20px;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }

        .badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin: 5px;
        }

        .badge-success {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .badge-info {
            background: #d1ecf1;
            color: #0c5460;
        }

        .winner-box {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(40, 167, 69, 0.3);
        }

        .winner-box h3 {
            color: white;
            font-size: 2em;
            margin-bottom: 15px;
        }

        .stats-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            margin: 15px 0;
        }

        .stats-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
        }

        @media print {
            body {
                background: white;
            }
            .download-btn {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Rapport de Comparaison des Prompts</h1>
            <p>Analyse Comparative pour la Revue Syst√©matique de Litt√©rature</p>
            <p style="font-size: 0.9em; margin-top: 10px;">Herm√®s Mistral - Tests Comparatifs</p>
            <button class="download-btn" onclick="generatePDF()">üì• T√©l√©charger le PDF</button>
        </div>

        <div class="content" id="report-content">
            <div class="intro">
                <h2>üéØ Objectif de l'√âtude</h2>
                <p>Cette √©tude compare deux approches de prompts pour le screening d'articles dans le cadre de revues syst√©matiques de litt√©rature. Des tests ant√©rieurs bas√©s uniquement sur le sujet de recherche n'excluaient pas suffisamment d'articles en raison d'une approche trop g√©n√©rale. L'objectif est d'√©valuer l'efficacit√© de deux prompts diff√©rents sur plusieurs cas d'usage r√©els.</p>
            </div>

            <h2>üìã M√©thodologie</h2>
            <p>Six revues syst√©matiques diff√©rentes ont √©t√© test√©es avec deux prompts distincts :</p>
            <ul style="margin: 15px 0 15px 30px;">
                <li><strong>Prompt 1 (R√©f√©rence)</strong> : Approche structur√©e avec PICOS d√©taill√© et processus en 2 √©tapes</li>
                <li><strong>Prompt 2 (Canada)</strong> : Approche simplifi√©e avec √©chelle de probabilit√© qualitative (sans sujet de recherche)</li>
            </ul>

            <h2>üî¨ Revues Analys√©es</h2>

            <!-- Review 1: PCL EL -->
            <div class="review-section">
                <h3>1Ô∏è‚É£ Review : PCL EL</h3>
                <h4>Sujet de recherche</h4>
                <p><em>"PCL is used in surgical sutures. The aim of this research is to analyze current knowledge of PCL in terms of safety, efficacy, resorbability, and its effects on tissue. PCL used in surgery and medical field"</em></p>
                
                <h4>üìä R√©sultats Comparatifs</h4>
                <div class="comparison-grid">
                    <div>
                        <h4>Prompt 1 (R√©f√©rence)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>215</td></tr>
                            <tr><td>ML correct</td><td>70</td></tr>
                            <tr><td>LLM correct</td><td>162</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">32,56</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">75,35</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>50</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>75</td></tr>
                        </table>
                        <span class="badge badge-success">Meilleur : LLM (Accuracy & Sensitivity)</span>
                    </div>
                    <div>
                        <h4>Prompt 2 (Canada)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>215</td></tr>
                            <tr><td>ML correct</td><td>70</td></tr>
                            <tr><td>LLM correct</td><td>155</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">32,56</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">72,09</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>50</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>62,5</td></tr>
                        </table>
                        <span class="badge badge-warning">Performance l√©g√®rement inf√©rieure</span>
                    </div>
                </div>
                <p> Prompt 2 :
                  3 articles ne sont pas inclus car 2 articles sur les Bio imprimantes 3D (dentisterie) et une ou il
                  n'y a pas PCL ou PDO ... pas d'acronyme mais les termes entiers</p>
                  <p><strong>Tester prompt 2 + sujet de recherche </strong </p>
                
            </div>

            <!-- Review 3: REVIEW RESORBABLE POLYCAPROLACTONE -->
            <div class="review-section">
                <h3>2Ô∏è‚É£ Review : REVIEW RESORBABLE POLYCAPROLACTONE</h3>
                <h4>Sujet de recherche</h4>
                <p><em>"compare techniques of soft facial rejuvenation. Resorbable Polycaprolactone Threads"</em></p>
                
                <h4>üìä R√©sultats Comparatifs</h4>
                <div class="comparison-grid">
                    <div>
                        <h4>Prompt 1 (R√©f√©rence)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>185</td></tr>
                            <tr><td>ML correct</td><td>107</td></tr>
                            <tr><td>LLM correct</td><td>107</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">57,84</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">57,84</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>76,47</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>70,59</td></tr>
                        </table>
                        <span class="badge badge-success">Meilleur : √âgalit√© (Accuracy) / ML (Sensitivity)</span>
                    </div>
                    <div>
                        <h4>Prompt 2 (Canada)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>185</td></tr>
                            <tr><td>ML correct</td><td>107</td></tr>
                            <tr><td>LLM correct</td><td>89</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">57,84</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">48,11</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>76,47</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>88,24</td></tr>
                        </table>
                        <span class="badge badge-info">Meilleur : LLM (Sensitivity)</span>
                    </div>
                </div>
            </div>

            <!-- Review 4: Wheelchair -->
            <div class="review-section">
                <h3>3Ô∏è‚É£ Review : Wheelchair</h3>
                <h4>Sujet de recherche</h4>
                <p><em>"How electric assistance or PAPAWs can help to prevent the musculoskeletal disorders wheelchair users? What are the advantages and ptifalls of these strategies?"</em></p>
                
                <h4>üìä R√©sultats Comparatifs</h4>
                <div class="comparison-grid">
                    <div>
                        <h4>Prompt 1 (R√©f√©rence)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>51</td></tr>
                            <tr><td>ML correct</td><td>32</td></tr>
                            <tr><td>LLM correct</td><td>33</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">62,75</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">64,71</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>66,67</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>50</td></tr>
                        </table>
                        <span class="badge badge-success">Meilleur : LLM (Accuracy) / ML (Sensitivity)</span>
                    </div>
                    <div>
                        <h4>Prompt 2 (Canada)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>51</td></tr>
                            <tr><td>ML correct</td><td>32</td></tr>
                            <tr><td>LLM correct</td><td>23</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">62,75</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">45,1</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>66,67</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>83,33</td></tr>
                        </table>
                        <span class="badge badge-info">Meilleur : LLM (Sensitivity)</span>
                    </div>
                </div>
            </div>

            <!-- Review: DIA LARM BS -->
            <div class="review-section">
                <h3>4Ô∏è‚É£ Review : DIA LARM BS</h3>
                <h4>Sujet de recherche</h4>
                <p><em>"This literature review aims to describe: the general knowledge on vascular access complications during hemodialysis and specifically on the hemodialysis with arteriovenous fistula; the existing solutions to avoid these undesirable events."</em></p>
                
                <h4>üìä R√©sultats Comparatifs</h4>
                <div class="comparison-grid">
                    <div>
                        <h4>Prompt 1 (R√©f√©rence)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>51</td></tr>
                            <tr><td>ML correct</td><td>32</td></tr>
                            <tr><td>LLM correct</td><td>27</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">62,75</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">52,94</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>66,67</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>83,33</td></tr>
                        </table>
                        <span class="badge badge-success">Meilleur : ML (Accuracy) / LLM (Sensitivity)</span>
                    </div>
                    <div>
                        <h4>Prompt 2 (Canada)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>140</td></tr>
                            <tr><td>ML correct</td><td>39</td></tr>
                            <tr><td>LLM correct</td><td>87</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">27,86</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">62,14</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>85,71</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>85,71</td></tr>
                        </table>
                        <span class="badge badge-success">Meilleur : LLM (Accuracy) / √âgalit√© (Sensitivity)</span>
                    </div>
                </div>
            </div>

            <!-- Review: SOTA ICD BS -->
            <div class="review-section">
                <h3>5Ô∏è‚É£ Review : SOTA ICD BS</h3>
                <h4>Sujet de recherche</h4>
                <p><em>"Evaluation of the performance and clinical outcomes of implantable cardioverter defibrillators and related therapies in patients with cardiovascular disease, compared with different types of defibrillation leads or systems"</em></p>
                
                <h4>üìä R√©sultats Comparatifs</h4>
                <div class="comparison-grid">
                    <div>
                        <h4>Prompt 1 (R√©f√©rence)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>6</td></tr>
                            <tr><td>ML correct</td><td>4</td></tr>
                            <tr><td>LLM correct</td><td>2</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">66,67</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">33,33</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>75</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>50</td></tr>
                        </table>
                        <span class="badge badge-success">Meilleur : ML (Accuracy & Sensitivity)</span>
                    </div>
                    <div>
                        <h4>Prompt 2 (Canada)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>6</td></tr>
                            <tr><td>ML correct</td><td>4</td></tr>
                            <tr><td>LLM correct</td><td>2</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">66,67</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">33,33</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>75</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>50</td></tr>
                        </table>
                        <span class="badge badge-info">R√©sultats identiques</span>
                    </div>
                </div>
                <p> 
                  2 articles ne sont pas inclus car 1 articles n'a pas de r√©sum√©s et sont titres ne sembles pas avoir de rapport avec le sujet et un ou il
                  n'y a pas ICD mais CIED qui est le groupe entier mais √ßa le LLM ne le comprend pas </p>
            </div>

            <!-- Review: SOTA RM GH -->
            <div class="review-section">
                <h3>6Ô∏è‚É£ Review : SOTA RM GH</h3>
                <h4>Sujet de recherche</h4>
                <p><em>"The objective of this SOTA (state of the art) is to determine whether remote monitoring (RM) software can improve the early detection of clinical abnormalities in patients with chronic kidney disease (CKD), dialysis patients, or transplant recipients."</em></p>
                
                <h4>üìä R√©sultats Comparatifs</h4>
                <div class="comparison-grid">
                    <div>
                        <h4>Prompt 1 (R√©f√©rence)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>172</td></tr>
                            <tr><td>ML correct</td><td>93</td></tr>
                            <tr><td>LLM correct</td><td>60</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">54,07</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">34,88</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>100</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>100</td></tr>
                        </table>
                        <span class="badge badge-success">Meilleur : ML (Accuracy) / √âgalit√© (Sensitivity)</span>
                    </div>
                    <div>
                        <h4>Prompt 2 (Canada)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>172</td></tr>
                            <tr><td>ML correct</td><td>93</td></tr>
                            <tr><td>LLM correct</td><td>35</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">54,07</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">20,35</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>100</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>100</td></tr>
                        </table>
                        <span class="badge badge-warning">Performance LLM significativement inf√©rieure</span>
                    </div>
                </div>
                <p> 
                  A premi√®re vue beaucoup d'articles qui semble correspondre au sujet inclus par la LLM
                  mais pas par l'utilisateur peut √™tre manque t-il 
                  des termes d'exclusion comme COVID ou SAR cov car tous exclus par l'utilisateur  </p>
            </div>

            <!-- Review: Lung Cancer -->
            <div class="review-section">
                <h3>7Ô∏è‚É£ Review : Lung Cancer</h3>
                <h4>Sujet de recherche</h4>
                <p><em>"What key elements does a radiologist need to have to establish a lung cancer diagnosis based on a low dose CT image? What key features or outputs does a medical device software need in order to aid lung cancer diagnosis? Which features can facilitate a CAD software's adoption, and which features can hinder adoption?"</em></p>
                
                <h4>üìä R√©sultats Comparatifs</h4>
                <div class="comparison-grid">
                    <div>
                        <h4>Prompt 1 (R√©f√©rence)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>203</td></tr>
                            <tr><td>ML correct</td><td>29</td></tr>
                            <tr><td>LLM correct</td><td>150</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">14,29</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">73,89</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>100</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>96,55</td></tr>
                        </table>
                        <span class="badge badge-success">Meilleur : LLM (Accuracy) / ML (Sensitivity)</span>
                        <span class="badge badge-warning">Note : Petite baisse d'accuracy √† investiguer</span>
                    </div>
                    <div>
                        <h4>Prompt 2 (Canada)</h4>
                        <table>
                            <tr><th>M√©trique</th><th>Valeur</th></tr>
                            <tr><td>Articles √©valuables</td><td>203</td></tr>
                            <tr><td>ML correct</td><td>29</td></tr>
                            <tr><td>LLM correct</td><td>150</td></tr>
                            <tr><td class="metric-highlight">ML accuracy (%)</td><td class="metric-highlight">14,29</td></tr>
                            <tr><td class="metric-highlight">LLM accuracy (%)</td><td class="metric-highlight">73,89</td></tr>
                            <tr><td>ML sensitivity (%)</td><td>100</td></tr>
                            <tr><td>LLM sensitivity (%)</td><td>96,55</td></tr>
                        </table>
                        <span class="badge badge-info">R√©sultats identiques</span>
                    </div>
                </div>
            </div>

            <h2>üìà Analyse Synth√©tique - Moyennes des Performances</h2>
            
            <div class="stats-card">
                <h3>Performance Moyenne par Approche</h3>
                <p style="margin-bottom: 20px;">Calcul des moyennes d'accuracy et de sensitivity sur l'ensemble des 7 revues analys√©es</p>
                
                <table>
                    <thead>
                        <tr>
                            <th>Approche</th>
                            <th>Accuracy Moyenne (%)</th>
                            <th>Sensitivity Moyenne (%)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ML (Machine Learning)</strong></td>
                            <td class="metric-highlight">50,36</td>
                            <td class="metric-highlight">76,46</td>
                        </tr>
                        <tr>
                            <td><strong>Prompt 1 (R√©f√©rence) - LLM</strong></td>
                            <td class="metric-highlight">56,03</td>
                            <td class="metric-highlight">79,29</td>
                        </tr>
                        <tr>
                            <td><strong>Prompt 2 (Canada) - LLM</strong></td>
                            <td class="metric-highlight">50,74</td>
                            <td class="metric-highlight">83,89</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="winner-box">
                <h3>Conclusion Finale</h3>
                  <p style="font-size: 1.2em; margin: 20px 0;">
                      <strong>Le Prompt 2 (provenant du rapport Canadien)</strong> obtient les meilleures performances de sensibilit√© (TPR) avec :
                  </p>
                  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                      <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px;">
                          <div style="font-size: 1.5em; margin-bottom: 10px;">üìä Accuracy</div>
                          <div class="stats-value" style="color: white;">50,74%</div>
                      </div>
                      <div style="background: rgba(255,255,255,0.2); padding: 20px; border-radius: 10px;">
                          <div style="font-size: 1.5em; margin-bottom: 10px;">üéØ Sensitivity</div>
                          <div class="stats-value" style="color: white;">79,29%</div>
                          <p>Bonne sensibilit√©</p>
                      </div>
                  </div>
                  <p style="margin-top: 20px; font-size: 1.1em;">
                      Le Prompt 1 offre une accuracy l√©g√®rement sup√©rieure 56,03 mais au d√©triment de la sensibilit√© (79,29%). Mais 
                      aussi une perte d'informations, il faut tester avec sortie plus explicite ( raison d'exclusion ...) si les r√©sultats sont les m√™mes.
                      <br><br>

                      A noter que les SOTA ont de mauvais r√©sultats (mais qui n'influence pas les r√©sultats moyens) ==> trouver un moyen d'augmenter les r√©sultats des SOTA.  
                  </p>
              </div>
  




            <div class="stats-card">
              <h3>Performance Moyenne sans les 2 revues SOTA</h3>
              <p style="margin-bottom: 20px;">Calcul des moyennes d'accuracy et de sensitivity sur 5 revues analys√©es (sans SOTA)</p>
              
              <table>
                <thead>
                    <tr>
                        <th>Approche</th>
                        <th>Accuracy Moyenne (%)</th>
                        <th>Sensitivity Moyenne (%)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ML (Machine Learning)</strong></td>
                        <td class="metric-highlight">43,78</td>
                        <td class="metric-highlight">76,46</td>
                    </tr>
                    <tr>
                        <td><strong>Prompt 1 (R√©f√©rence) - LLM</strong></td>
                        <td class="metric-highlight">55,70</td>
                        <td class="metric-highlight">75,05</td>
                    </tr>
                    <tr>
                        <td><strong>Prompt 2 (Canada) - LLM</strong></td>
                        <td class="metric-highlight">50,62</td>
                        <td class="metric-highlight">83,89</td>
                    </tr>
                </tbody>
            </table>
          </div>



              <h2>üìé Annexes - Prompts Complets</h2>
  
              <div class="review-section">
                  <h3>Annexe A : Prompt 1 (R√©f√©rence)</h3>
                  <div class="prompt-code">
  PROMPT_TEMPLATE = """[INST]
  You are screening articles for a systematic literature review.
  
  RESEARCH TOPIC:
  {topic}
  
  SCREENING PROCESS (2 steps):
  
  STEP 1 - Topic Relevance:
  Is this article relevant to ANY aspect of the research topic?
  - Population: {population}
  - Indication: {indication}
  - Intervention: {intervention}
  - Comparison (when applicable): {comparison}
  - Outcomes: {outcome}
  
  If NOT clearly about this topic ‚Üí "exclude"
  
  STEP 2 - Review Utility (critical):
  IF relevant to at least one aspect of the topic, does it provide USEFUL DATA for a literature review?
  
  STRICT EXCLUSIONS:
  Studies explicitly about {excludes} are always excluded.
  
  DECISION RULES:
  - "include" (confidence 0.8-1.0) = Topic-relevant AND provides useful data for review
  - "include" (confidence 0.6-0.79) = Topic-relevant with potentially useful data but unclear quality
  - "exclude" (confidence 0.8-1.0) = Not topic-relevant OR topic-relevant but no useful data
  - "review" (confidence 0.3-0.6) = Ambiguous, needs human judgment (use sparingly)
  
  ARTICLE:
  Title: {title}
  Abstract: {abstract}
  
  Return ONLY valid JSON (no markdown):
  {{
      "decision": "include|exclude|review",
      "confidence": 0.85,
      "reason": "Brief explanation (max 30 words)",
      "evidence_spans": [
          {{"field": "population|exposure|outcome|topic_relevance", "quote": "excerpt"}}
      ],
      "picos": {{
          "population": ["terms or 'unclear'"],
          "exposure": ["terms or 'unclear'"],
          "outcome": ["terms or 'unclear'"]
      }}
  }}
  [/INST]"""
                  </div>
              </div>
  
              <div class="review-section">
                  <h3>Annexe B : Prompt 2 (Canada)</h3>
                  <div class="prompt-code">
  PROMPT_TEMPLATE = """[INST]
  You are a researcher rigorously screening titles and abstracts of
  scientific papers for inclusion or exclusion in a review paper.
  
  RESEARCH TOPIC:
  {topic}
  
  INCLUSION CRITERIA:
  - Population: {population}
  - Indication: {indication}
  - Intervention: {intervention}
  - Comparison (when applicable): {comparison}
  - Outcomes: {outcome}
  
  {exclusion_section}
  
  ARTICLE TO EVALUATE:
  Title: {title}
  Abstract: {abstract}
  
  Based on the article title and abstract, and the inclusion criteria
  provided, determine how likely this article is to be relevant.
  
  Only type one of the following answers to indicate your decision:
  "Almost certain"
  "Extremely likely"
  "Very likely"
  "Likely"
  "About as likely as not"
  "Unlikely"
  "Very unlikely"
  "Extremely unlikely"
  "Almost impossible"
  
  Your answer:
  [/INST]"""
                  </div>
              </div>
  
              <div class="conclusion">
                  <h2>üí° Observations Cl√©s</h2>
                  <ul style="margin-left: 30px; margin-top: 15px;">
                      <li><strong>Structuration PICOS :</strong> Le Prompt 1 b√©n√©ficie d'une structuration claire en 2 √©tapes qui am√©liore la pr√©cision du screening.</li>
                      <li><strong>Format de sortie :</strong> Le JSON structur√© du Prompt 1 facilite l'extraction et l'analyse des donn√©es.</li>
                      <li><strong>Sensitivity vs Accuracy :</strong> Le Prompt 2 privil√©gie la sensibilit√© (moins de faux n√©gatifs) au d√©triment de la pr√©cision (plus de faux positifs).</li>
                      <li><strong>D√©pendance au sujet :</strong> Le Prompt 2 n√©cessite un sujet de recherche tr√®s d√©taill√© pour √™tre efficace (voir Review SOTA ICD BS).</li>
                      <li><strong>Variabilit√© :</strong> Les performances varient selon la complexit√© et la sp√©cificit√© du domaine de recherche.</li>
                  </ul>
              </div>
  
              <div class="conclusion">
                  <h2>üéì Recommandations</h2>
                  <ul style="margin-left: 30px; margin-top: 15px;">
                      <li><strong>Pour un screening de haute pr√©cision :</strong> Utiliser le Prompt 1 (R√©f√©rence)</li>
                      <li><strong>Pour minimiser les faux n√©gatifs :</strong> Envisager le Prompt 2 avec un sujet tr√®s d√©taill√©</li>
                      <li><strong>Approche hybride :</strong> Utiliser le Prompt 2 en premi√®re passe (sensibilit√© √©lev√©e) puis le Prompt 1 pour affiner (pr√©cision)</li>
                      <li><strong>Validation humaine :</strong> Toujours pr√©voir une r√©vision manuelle des cas ambigus, quelle que soit l'approche choisie</li>
                  </ul>
              </div>
          </div>
  
          <div class="footer">
              <p>Rapport g√©n√©r√© le <span id="current-date"></span></p>
              <p>Herm√®s Mistral - Analyse Comparative des Prompts pour Revue Syst√©matique de Litt√©rature</p>
          </div>
      </div>
  
      <script>
          // Afficher la date actuelle
          document.getElementById('current-date').textContent = new Date().toLocaleDateString('fr-FR', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
          });
  
          // Fonction pour g√©n√©rer le PDF
          function generatePDF() {
              const element = document.getElementById('report-content');
              const opt = {
                  margin: 10,
                  filename: 'Rapport_Comparaison_Prompts_' + new Date().toISOString().split('T')[0] + '.pdf',
                  image: { type: 'jpeg', quality: 0.98 },
                  html2canvas: { scale: 2, logging: false },
                  jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' },
                  pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
              };
  
              // Cr√©er une copie du contenu pour le PDF
              const clone = element.cloneNode(true);
              
              // Cr√©er un conteneur temporaire
              const container = document.createElement('div');
              container.style.position = 'absolute';
              container.style.left = '-9999px';
              container.style.width = '210mm';
              container.style.padding = '20px';
              container.style.backgroundColor = 'white';
              container.appendChild(clone);
              document.body.appendChild(container);
  
              // Afficher un message de chargement
              const originalText = event.target.textContent;
              event.target.textContent = '‚è≥ G√©n√©ration en cours...';
              event.target.disabled = true;
  
              html2pdf().set(opt).from(container).save().then(() => {
                  // Nettoyer
                  document.body.removeChild(container);
                  event.target.textContent = originalText;
                  event.target.disabled = false;
              }).catch(err => {
                  console.error('Erreur lors de la g√©n√©ration du PDF:', err);
                  alert('Erreur lors de la g√©n√©ration du PDF. Veuillez r√©essayer.');
                  document.body.removeChild(container);
                  event.target.textContent = originalText;
                  event.target.disabled = false;
              });
          }
      </script>
  </body>
  </html>
